# 德扑格局前端设计规范（v1.1）

更新时间：2026-02-22（收敛版）  
适用端：微信小程序 `miniprogram`

## 1. 目标与范围

本规范用于统一格局项目的视觉风格、交互反馈和页面排版，减少“每页一套风格”的问题，保证后续新增/迭代页面保持一致体验。

本次已遍历并纳入规范基线的前端页面/组件：

- `miniprogram/pages/match/list/index`
- `miniprogram/pages/match/detail/index`
- `miniprogram/pages/match/bind/index`
- `miniprogram/pages/match/add/index`（占位页）
- `miniprogram/pages/player/index`
- `miniprogram/pages/player/detail/index`
- `miniprogram/pages/profile/index`
- `miniprogram/custom-tab-bar/index`
- `miniprogram/components/cloudTipModal/index`

## 2. 视觉方向（统一风格）

- 整体风格：浅色、轻盈、低线框感、卡片层级清晰。
- 页面基调：蓝白渐变背景 + 白色内容卡片。
- 信息层级：标题强对比、正文中对比、辅助信息弱对比。
- 状态表达：颜色优先表达状态，文字辅助表达含义。
- 设计关键词：清爽、稳定、可读、可扩展。

## 3. 颜色规范

## 3.1 全局基础色（必须优先使用）

- 页面渐变背景：`#e9f1ff -> #f4f8ff -> #eef3f8`
- 纯白卡片底色：`#ffffff`
- 主文字：`#15253e` / `#19283f`
- 次文字：`#5b6b84` / `#5f6f86`
- 辅助文字：`#8b97a9` / `#8c98a8`

## 3.2 语义色（状态色）

- 品牌主蓝（主按钮）：`#1f96ff -> #1f67ff`
- 成功绿（正向状态）：`#07c160`
- 盈利数字绿（金额）：`#04b65f`
- 失败红（负向/亏损）：`#ef4444`
- 警示橙（暂停/警告）：`#b4650c`（背景 `#fff6e8`）
- 信息青（次按钮）：`#0f8ea0`（背景 `#e8f7fa`）
- 中性灰（结束态）：`#5f6e84`（背景 `#edf2fb`）

## 3.3 禁止项

- 禁止新增无语义颜色（同类状态出现多个红/绿）。
- 禁止在同一页面混用冷暖冲突的主色体系。
- 禁止高饱和大面积纯色背景（影响阅读）。

## 4. 字体与字号规范

## 4.1 字体栈

- 正文字体（最多 2 种）：`'PingFang SC', 'Helvetica Neue'`
- 数字金额字体（最多 2 种）：`'DIN Alternate', 'PingFang SC'`

## 4.2 字阶（推荐固定档位）

仅保留 5 档，且最小字号固定为 `20rpx`：

- `40rpx`：页面主标题、姓名主标题、核心盈亏数字。
- `34rpx`：区块标题（如“核心指标”“最近对局”）。
- `30rpx`：关键数值、输入区主文字、主要按钮文字。
- `24rpx`：正文说明、副标题、时间/状态辅助信息。
- `20rpx`：标签、胶囊、次级按钮、列表细节信息。

禁止新增 `20rpx` 以下字号。

## 4.3 强制统一规则

- 全项目“盈亏主数字”统一为 `40rpx`：
  - 对局详情选手卡：`.player-net`
  - 玩家列表卡：`.net`
  - 玩家详情顶部：`.hero-net`
  - 玩家详情对局行：`.match-net`

## 4.4 字距（横向字间距）规范

- 基线规则：正文、标题、指标名称、指标数值统一 `letter-spacing: 0`（即 `--ls-0`）。
- 对齐基准：以 `对局列表页` 为基准，不额外拉开中文字距。
- 例外场景：仅在纯英文/ID 可读性确实不足时，可用 `--ls-1 = 0.4rpx`，且必须是局部小范围使用。
- 禁止项：中文标题/标签/指标值使用大于 `0.4rpx` 的字距。

## 5. 布局、间距、圆角、阴影规范

## 5.1 间距刻度（优先使用）

仅保留 3 档，每档 1 个固定规格：

- `S = 8rpx`：图标/文字微间距、同组元素贴合间距。
- `M = 16rpx`：卡片内标准间距、组件间常规间距。
- `L = 24rpx`：模块间距、页面主留白。

允许按倍数扩展（如 `2S=16rpx`、`2L=48rpx`），但不得新增新的基础刻度。

## 5.2 圆角刻度

仅保留 3 档（不含胶囊与顶部头卡异形）：

- `R1 = 12rpx`：输入框、小控件、按钮内层块。
- `R2 = 18rpx`：普通内容块、二级卡片。
- `R3 = 24rpx`：主卡片、Hero 卡片。

特殊例外：

- 胶囊/标签：`999rpx`
- 顶部头卡异形：`0 0 36rpx 36rpx`

## 5.3 阴影层级（标准化）

- Hero 卡：`0 10rpx 24rpx rgba(21, 54, 104, 0.09)`
- 普通卡：`0 10rpx 24rpx rgba(15, 39, 80, 0.07)`
- 弱阴影卡：`0 8rpx 18rpx rgba(15, 39, 80, 0.05)`
- 主按钮发光：`0 10rpx 22rpx rgba(31, 103, 255, 0.28)`

## 6. 组件级规范

## 6.1 顶部 Hero 卡（列表页）

- 必含：主标题 + 副标题 + 关键操作按钮。
- 结构：左文案、右操作；底部可放统计胶囊（如“共 N 名玩家”）。
- 背景：浅蓝渐变，不加重边框。

## 6.2 列表卡片（对局/玩家）

- 卡片高度优先“信息密度”而不是“留白堆砌”。
- 标题最多两行，必须截断保护：`min-width: 0 + ellipsis`。
- 元信息区统一浅底块（如时间、手数、状态）。

## 6.3 状态标签（Status Tag）

- 运行中：绿底绿字（可带呼吸点）。
- 已暂停：橙底橙字。
- 已结束：灰底灰字。
- 风险操作标签（删除/结束）需与普通操作明显区分。

## 6.4 按钮体系

- 主操作：蓝色渐变胶囊（例如“新建”“刷新数据”）。
- 次操作：浅蓝/浅青胶囊（例如“详情”“绑定”）。
- 危险操作：浅红背景 + 红字，执行前必须二次确认。
- 尺寸统一（列表页/详情页/绑定页/玩家页）：
  - 文本按钮高度：`56rpx`
  - 文本按钮字号：`24rpx`
  - 文本按钮横向内边距：`24rpx`
  - 图标按钮（编辑/复制）：`52rpx` 方形

## 6.5 数据网格（指标区）

- 统一 3 或 4 列布局，卡片内不再多层嵌套。
- 指标容器优先用“浅底块 + R1 圆角 + 弱阴影/inset”。
- 指标标签统一 `20rpx`，指标值按字阶使用 `24/30/34rpx`。

## 7. 交互规范

## 7.1 触控反馈

- 按钮按下态统一使用轻微缩放/亮度变化：
  - `opacity: 0.86; transform: scale(0.97);`
  - 或 `filter: brightness(0.96); transform: scale(0.98);`

## 7.2 异步反馈

- 发起异步：`wx.showLoading`
- 完成后：必须 `wx.hideLoading`
- 成功提示：简短 toast（如“已刷新”“修改成功”）
- 失败提示：toast + `icon: 'none'`（不使用模糊报错）

## 7.3 危险操作

- 删除/结束/解绑必须 `wx.showModal` 二次确认。
- 危险确认按钮颜色统一 `confirmColor: '#ff4d4f'`。

## 7.4 空态与登录态

- 空态必须给“下一步动作”提示，不只写“暂无数据”。
- 未登录态统一展示“去登录”入口，避免死页面。

## 8. 文案规范

- 文案语气：直接、短句、用户可执行。
- 行为按钮：2~4 字，避免歧义（如“刷新数据”“结束”）。
- 异常提示：先说结果，再说建议（如“加载失败，请重试”）。

## 9. 页面一致性约束（后续必须遵循）

后续所有前端页面改动，必须满足以下检查项：

- 是否使用本规范色板与语义色。
- 是否使用本规范字阶，不新增“临时字号”。
- 是否满足“最小字号 >= 20rpx”。
- 是否遵循字距基线：默认 `--ls-0`，避免随意加字距。
- 盈亏数字是否保持 `40rpx` 统一基准。
- 是否沿用标准圆角/阴影层级，不出现重边框。
- 是否提供完整加载、空态、错误态反馈。
- 是否对危险操作增加确认弹窗。
- 是否处理超长文本截断与小屏适配。

## 10. 实施方式（团队工作流）

每次前端提交前，按以下流程执行：

1. 对照本规范自检（第 9 节）。
2. 微信开发者工具验证三类页面：列表页、详情页、表单页。
3. 在变更说明中写明：改动点、验证路径、回滚方式。

## 11. Design Tokens 落地（已接入）

已落地文件：

- `miniprogram/styles/design-tokens.wxss`
- `miniprogram/app.wxss`（已全局 `@import`）

使用方式（推荐）：

1. 变量方式（优先）  
例如：`font-size: var(--fz-3);`、`padding: var(--space-m);`、`border-radius: var(--radius-2);`

2. 工具类方式（快速）  
例如：`u-fz-3`、`u-gap-m`、`u-p-m`、`u-r-2`

约束说明：

- 字体仅使用 `--fz-1` 到 `--fz-5`
- 间距仅使用 `--space-s/m/l`
- 圆角仅使用 `--radius-1/2/3`（胶囊与顶部异形使用特例 token）
- 字体栈统一使用：
  - 正文 `--font-body`
  - 金额 `--font-number`
- 字距统一使用：
  - 默认 `--ls-0`
  - 可选 `--ls-1`（仅英文/ID 局部例外）
- 语义色与阴影统一使用：
  - `--bg-*` / `--ink-*` / `--brand-*`
  - `--shadow-hero` / `--shadow-card` / `--shadow-soft` / `--shadow-button`

---

如需调整规范，请先更新本文件，再进行页面样式改动，避免“页面先改、规范滞后”。
